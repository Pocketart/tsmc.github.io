<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Encryption Simulation</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <style>
    /* Main Wrapper for content */
    #contentWrapper {
        max-width: 600px; /* Limit width to 600 pixels */
        margin: 0 auto; /* Center the container horizontally */
    }

    .card-container {
        display: flex;
        justify-content: space-between;
        margin-top: 20px;
    }

    .card {
        width: 45%;
        position: relative; /* Added for positioning */
    }

    .encrypted-card {
        opacity: 0;
        transition: opacity 2s ease-in-out;
    }

    .random-bits {
        font-family: monospace;
        color: #000;
        font-size: 12px;
        line-height: 1.5;
        white-space: pre-wrap; /* To preserve line breaks */
        max-height: 144px; /* Limit to 8 lines at 18px line-height */
        overflow: hidden;
    }

    #imagePreview {
        max-width: 62.5%; /* 25% larger */
        max-height: 62.5%; /* 25% larger */
        display: block;
        margin: auto; /* Center the image */
        position: relative; /* Added for animation */
    }
    </style>
</head>
<body>
    <!-- Main Wrapper -->
    <div id="contentWrapper">
        <div class="container mt-5">
            <h2>Image Encryption Simulation</h2>
            <div class="mb-3">
                <label for="imageUpload" class="form-label">Upload Image</label>
                <input type="file" class="form-control" id="imageUpload" accept="image/*" onchange="previewImage()">
            </div>
            <button class="btn btn-primary" onclick="startEncryption()">Encrypt Image</button>

            <!-- Cards Container -->
            <div class="card-container">
                <!-- Image Preview Card -->
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Your Biometric Data</h5>
                        <img id="imagePreview" alt="Image Preview">
                    </div>
                </div>

                <!-- Encrypted Data Card -->
                <div class="card encrypted-card" id="encryptedCard">
                    <div class="card-body" style="position: relative;">
                        <h5 class="card-title">Encrypted and Stored to Card</h5>
                        <!-- Faded image copy -->
                        <img id="fadedImage" alt="Faded Image" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0.3; display: none; z-index: 1;">
                        <div id="encryptedData" class="random-bits" style="position: relative; z-index: 2;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio element for shutter sound -->
    <audio id="shutterSound" src="shutter.mp3" preload="auto"></audio>

    <!-- Bootstrap JS and Popper.js -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>